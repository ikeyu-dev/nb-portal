# NB-Portal 使い方ガイド

NB-Portalの基本的な使い方を説明する。

## 目次

1. [ログイン](#ログイン)
2. [ホーム画面](#ホーム画面)
3. [カレンダー](#カレンダー)
4. [欠席連絡](#欠席連絡)
5. [機材管理](#機材管理)
6. [バス時刻表](#バス時刻表)
7. [プッシュ通知](#プッシュ通知)
8. [PWAインストール](#pwaインストール)

---

## ログイン

1. NB-Portalにアクセス
2. 「Microsoftでログイン」ボタンをタップ
3. 大学のMicrosoftアカウントでログイン
4. 初回ログイン時は部員確認が行われる

**注意**: 部員として登録されていないアカウントはログインできない。

---

## ホーム画面

ダッシュボード画面には以下の情報が表示される:

- **日付・時刻**: 現在の日付と時刻
- **天気**: 現在地の天気情報
- **今後の予定**: 直近のスケジュール一覧
- **本日の欠席者**: 今日の活動を欠席する部員

---

## カレンダー

### 予定の確認

- 月表示カレンダーで予定を一覧表示
- 日付をタップすると詳細を確認可能

### 予定の登録

1. カレンダー画面右上の「+」ボタンをタップ
2. 以下の情報を入力:
    - タイトル（必須）
    - 終日かどうか
    - 日付（必須）
    - 終了日（終日の場合）
    - 時刻（終日でない場合）
    - 場所
    - 詳細
    - 色
3. 「追加」ボタンをタップ

### 予定の編集

1. 編集したい予定をタップ
2. 情報を修正
3. 「保存」ボタンをタップ

### 予定の削除

1. 編集したい予定をタップ
2. 編集画面内の「削除」ボタンをタップ
3. 確認ダイアログで「削除する」を選択

---

## 欠席連絡

活動に参加できない場合の連絡方法。

### 連絡の送信

1. 欠席連絡画面を開く
2. 学籍番号を入力
3. 氏名またはあだ名を入力
4. 欠席の種類を選択:
    - 欠席
    - 遅刻
    - 中抜け
    - 早退
5. 種別に応じた追加情報を入力:
    - 中抜け: 抜ける時間と活動に戻る時間
    - 早退: 早退する時間
6. 理由を入力
7. 「送信」ボタンをタップ

---

## 機材管理

部活動で使用する機材（マイク、スピーカー、ケーブルなど）を管理する。

### 機材の確認

- 機材一覧画面で全機材を表示
- カテゴリでフィルタリング可能:
    - MIC: マイク
    - SPK: スピーカー
    - CAB: ケーブル
    - OTH: その他

### 機材の登録

1. 機材一覧画面右上の「+」ボタンをタップ
2. 以下の情報を入力:
    - カテゴリ（必須）
    - 機材名（必須）
    - 数量（同一機材を複数登録する場合）
3. 「登録」ボタンをタップ

**備考**: 機材IDは自動生成される（例: MIC001, SPK002）

### 機材の編集

1. 編集したい機材の行をタップ
2. 編集モーダルが表示される
3. 機材名を修正
4. 「保存」ボタンをタップ

### 機材の削除

1. 削除したい機材の行をタップ
2. 編集モーダル内の「削除」ボタンをタップ
3. 確認ダイアログで「削除」を選択

---

## バス時刻表

東武動物公園駅・新白岡駅のバス時刻表を確認できる。

### 使い方

1. バス時刻表画面を開く
2. 日付を選択（デフォルトは今日）
3. 時刻表が表示される

---

## プッシュ通知

カレンダーの予定が追加・更新・削除されたときに通知を受け取れる。

### 通知の有効化

1. 「お知らせ」ページを開く
2. 「プッシュ通知」のトグルをオン
3. ブラウザの通知許可を許可

### 通知の無効化

1. 「お知らせ」ページを開く
2. 「プッシュ通知」のトグルをオフ

### 通知の種類

| 通知タイプ | タイトル形式       |
| ---------- | ------------------ |
| 予定追加   | 新規予定: {予定名} |
| 予定更新   | 予定更新: {予定名} |
| 予定削除   | 予定削除: {予定名} |

---

## PWAインストール

NB-Portalをアプリとしてインストールすると、ホーム画面から直接起動できる。

### iOSの場合

1. Safariでアプリを開く
2. 共有ボタン（四角から矢印が出ているアイコン）をタップ
3. 「ホーム画面に追加」を選択
4. 「追加」をタップ

### Androidの場合

1. Chromeでアプリを開く
2. メニュー（3つの点）をタップ
3. 「ホーム画面に追加」または「アプリをインストール」を選択

### PCの場合

1. Chromeでアプリを開く
2. アドレスバー右側のインストールアイコンをクリック
3. 「インストール」をクリック

---

## トラブルシューティング

### ログインできない

- 大学のMicrosoftアカウントを使用しているか確認
- 部員として登録されているか確認

### 通知が届かない

1. ブラウザの通知設定を確認
2. 「お知らせ」ページでプッシュ通知がオンになっているか確認
3. 一度オフにして再度オンにする

### 画面が更新されない

- ブラウザをリロード
- キャッシュをクリア
